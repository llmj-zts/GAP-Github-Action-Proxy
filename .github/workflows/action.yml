name: å¼€å§‹è¿è¡Œ
on:
  workflow_dispatch:
jobs:
  proxyrun:
    runs-on: ubuntu-latest
    env: 
      CPOLAR_ID: ${{secrets.CPOLAR_SESSION}}
    steps:
      - name: get_nfd-proxy
        run: |
         git clone https://github.com/nfd-parser/nfd-proxy.git
         cd nfd-proxy
         mvn clean package
         cd target
         nohup java -jar nfd-proxy.jar > out-nfd-proxy.log 2>&1 &
      - name: RunPenetration
        run: |
          curl -L https://www.cpolar.com/static/downloads/install-release-cpolar.sh | sudo bash
          cpolar authtoken $CPOLAR_ID
          cpolar tcp 8899 &
      - name: è¯´æ˜å³ä»£ç†åœ°å€æŸ¥çœ‹ğŸ˜€
        run: |
          touch /tmp/keepalive
          echo å·²ç»å®Œæˆéƒ¨ç½²ğŸ˜„
          echo ä½¿ç”¨äº†HTTPä»£ç†(æ„Ÿè°¢é¡¹ç›®:https://github.com/nfd-parser/nfd-proxy)
          echo å‰å¾€https://dashboard.cpolar.comæŸ¥çœ‹ä»£ç†åœ°å€
          echo ä»£ç†æ’ä»¶å¯ç”¨https://github.com/zero-peak/ZeroOmega
          echo è¯·å‹¿æ»¥ç”¨,è¯·æ‰‹åŠ¨åœæ­¢æœåŠ¡
      - name: debug
        uses: csexton/debugger-action@master
