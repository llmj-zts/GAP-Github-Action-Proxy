name: HTTPä»£ç†
on:
  workflow_dispatch:
jobs:
  proxyrun:
    runs-on: ubuntu-latest
    env: 
      CPOLAR_ID: ${{secrets.CPOLAR_SESSION}}
    steps:
      - name: checkout
        uses: actions/checkout@v4
      - name: get_nfd-proxy
        run: |
         cd target
         nohup java -jar nfd-proxy.jar > out-nfd-proxy.log 2>&1 &
      - name: RunPenetration
        run: |
          cpolar authtoken $CPOLAR_ID
          cpolar tcp 8899 &
      - name: è¯´æ˜æŸ¥çœ‹ğŸ˜€
        run: |
          touch /tmp/keepalive
          echo å·²ç»å®Œæˆéƒ¨ç½²ğŸ˜„
          echo æŸ¥çœ‹ä»£ç†åœ°å€å‰å¾€https://dashboard.cpolar.com/status
          echo æŸ¥çœ‹ç°åœ¨ipæƒ…å†µå‰å¾€https://ip.cn
          echo ä»£ç†æ’ä»¶å¯ç”¨https://github.com/zero-peak/ZeroOmega
          echo ä½¿ç”¨äº†HTTPä»£ç†ï¼Œæ„Ÿè°¢é¡¹ç›®:https://github.com/nfd-parser/nfd-proxy
          echo è¯·å‹¿æ»¥ç”¨,ä½¿ç”¨åè¯·æ‰‹åŠ¨åœæ­¢æœåŠ¡
      - name: debug
        uses: csexton/debugger-action@master
